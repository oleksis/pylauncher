<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<title>Python Launcher for Windows</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 8954 2022-01-20 10:10:25Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See https://docutils.sourceforge.io/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
<style type="text/css">

/*
:Author: Oleksis Fraga Menendez
:Contact: oleksis.fraga@gmail.com
:Copyright: This stylesheet has been placed in the public domain.

Stylesheet for use with Docutils.
*/

body {
    background-color: #fff;
    padding: 50px;
    font: 14px/1.5 "Noto Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-weight: 400;
}

.pylauncher-intro {
    display: inline-block;
}

.pylauncher-intro img {
    width: 166px;
    height: 166px;
}

</style>
</head>
<body>
<div class="document" id="python-launcher-for-windows">
<h1 class="title">Python Launcher for Windows</h1>

<div class="pylauncher-intro docutils container">
<img alt="Logo Python launcher for Windows" class="align-left" src="py-launcher.png" />
<p>The Python launcher for Windows is a utility which aids in the location and
execution of different Python versions.  It allows scripts (or the
command-line) to indicate a preference for a specific Python version, and
will locate and execute that version.</p>
</div>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#getting-started" id="toc-entry-1">Getting started</a><ul>
<li><a class="reference internal" href="#from-the-command-line" id="toc-entry-2">From the command-line</a></li>
<li><a class="reference internal" href="#from-a-script" id="toc-entry-3">From a script</a></li>
<li><a class="reference internal" href="#from-file-associations" id="toc-entry-4">From file associations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#shebang-lines" id="toc-entry-5">Shebang Lines</a><ul>
<li><a class="reference internal" href="#arguments-in-shebang-lines" id="toc-entry-6">Arguments in shebang lines</a></li>
</ul>
</li>
<li><a class="reference internal" href="#customization" id="toc-entry-7">Customization</a><ul>
<li><a class="reference internal" href="#customization-via-ini-files" id="toc-entry-8">Customization via INI files</a></li>
<li><a class="reference internal" href="#customizing-default-python-versions" id="toc-entry-9">Customizing default Python versions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#diagnostics" id="toc-entry-10">Diagnostics</a></li>
</ul>
</div>
<div class="section" id="getting-started">
<h1><a class="toc-backref" href="#toc-entry-1">Getting started</a></h1>
<div class="section" id="from-the-command-line">
<h2><a class="toc-backref" href="#toc-entry-2">From the command-line</a></h2>
<p>You should ensure the launcher is on your PATH - depending on how it was
installed it may already be there, but check just in case it is not.</p>
<p>From a command-prompt, execute the following command:</p>
<pre class="literal-block">
py
</pre>
<p>You should find that the latest version of Python 2.x you have installed is
started - it can be exited as normal, and any additional command-line
arguments specified will be sent directly to Python.</p>
<p>If you have multiple versions of Python 2.x installed (e.g., 2.6 and 2.7) you
will have noticed that Python 2.7 was started - to launch Python 2.6, try the
command:</p>
<pre class="literal-block">
py -2.6
</pre>
<p>If you have a Python 3.x installed, try the command:</p>
<pre class="literal-block">
py -3
</pre>
<p>You should find the latest version of Python 3.x starts.</p>
</div>
<div class="section" id="from-a-script">
<h2><a class="toc-backref" href="#toc-entry-3">From a script</a></h2>
<p>Let's create a test Python script - create a file called <tt class="docutils literal">hello.py</tt> with the
following contents</p>
<pre class="literal-block">
#! python
import sys
sys.stdout.write(&quot;hello from Python %s\n&quot; % (sys.version,))
</pre>
<p>From the directory in which hello.py lives, execute the command:</p>
<pre class="literal-block">
py hello.py
</pre>
<p>You should notice the version number of your latest Python 2.x installation
is printed.  Now try changing the first line to be:</p>
<pre class="literal-block">
#! python3
</pre>
<p>Re-executing the command should now print the latest Python 3.x information.
As with the above command-line examples, you can specify a more explicit
version qualifier.  Assuming you have Python 2.6 installed, try changing the
first line to <tt class="docutils literal">#! python2.6</tt> and you should find the 2.6 version
information printed.</p>
</div>
<div class="section" id="from-file-associations">
<h2><a class="toc-backref" href="#toc-entry-4">From file associations</a></h2>
<p>The launcher should have been associated with Python files (i.e. <tt class="docutils literal">.py</tt>,
<tt class="docutils literal">.pyw</tt>, <tt class="docutils literal">.pyc</tt>, <tt class="docutils literal">.pyo</tt> files) when it was installed.  This means that
when you double-click on one of these files from Windows explorer the launcher
will be used, and therefore you can use the same facilities described above to
have the script specify the version which should be used.</p>
<p>The key benefit of this is that a single launcher can support multiple Python
versions at the same time depending on the contents of the first line.</p>
<p>If you type the following at a command line:</p>
<pre class="literal-block">
C:\&gt;assoc .py
</pre>
<p>you should see:</p>
<pre class="literal-block">
.py=Python.File
</pre>
<p>and if you type:</p>
<pre class="literal-block">
C:\&gt;ftype Python.File
</pre>
<p>you should see:</p>
<pre class="literal-block">
Python.File=&quot;C:\Windows\py.exe&quot; &quot;%1&quot; %*
</pre>
<p>Similarly, <tt class="docutils literal">.pyc</tt> and <tt class="docutils literal">.pyo</tt> files should map to <tt class="docutils literal">Python.CompiledFile</tt>,
and <tt class="docutils literal">.pyw</tt> should map to <tt class="docutils literal">Python.NoConFile</tt>. While <tt class="docutils literal">Python.CompiledFile</tt>
maps to the same executable as <tt class="docutils literal">Python.File</tt>, <tt class="docutils literal">Python.NoConFile</tt> should
map to <tt class="docutils literal">pyw.exe</tt> rather than <tt class="docutils literal">py.exe</tt>.</p>
</div>
</div>
<div class="section" id="shebang-lines">
<h1><a class="toc-backref" href="#toc-entry-5">Shebang Lines</a></h1>
<p>If the first line of a script file starts with <tt class="docutils literal">#!</tt>, it is known as a
&quot;shebang&quot; line.  Linux and other Unix like operating systems have native
support for such lines and are commonly used on such systems to indicate how
a script should be executed.  This launcher allows the same facilities to be
using with Python scripts on Windows and the examples above demonstrate their
use.</p>
<p>To allow shebang lines in Python scripts to be portable between Unix and
Windows, this launcher supports a number of 'virtual' commands to specify
which interpreter to use.  The supported virtual commands are:</p>
<ul class="simple">
<li><tt class="docutils literal">/usr/bin/env python</tt></li>
<li><tt class="docutils literal">/usr/bin/python</tt></li>
<li><tt class="docutils literal">/usr/local/bin/python</tt></li>
<li><tt class="docutils literal">python</tt></li>
</ul>
<p>For example, if the first line of your script starts with</p>
<pre class="literal-block">
#! /usr/bin/python
</pre>
<p>The default Python will be located and used.  As many Python scripts written
to work on Unix will already have this line, you should find these scripts can
be used by the launcher without modification.  If you are writing a new script
on Windows which you hope will be useful on Unix, you should use one of the
shebang lines starting with <tt class="docutils literal">/usr</tt>.</p>
<div class="section" id="arguments-in-shebang-lines">
<h2><a class="toc-backref" href="#toc-entry-6">Arguments in shebang lines</a></h2>
<p>The shebang lines can also specify additional options to be passed to the
Python interpreter.  For example, if you have a shebang line:</p>
<pre class="literal-block">
#! /usr/bin/python -v
</pre>
<p>Then Python will be started with the <tt class="docutils literal"><span class="pre">-v</span></tt> option</p>
</div>
</div>
<div class="section" id="customization">
<h1><a class="toc-backref" href="#toc-entry-7">Customization</a></h1>
<div class="section" id="customization-via-ini-files">
<h2><a class="toc-backref" href="#toc-entry-8">Customization via INI files</a></h2>
<blockquote>
<p>Two .ini files will be searched by the launcher - <tt class="docutils literal">py.ini</tt> in the
current user's &quot;application data&quot; directory (i.e. the directory returned
by calling the Windows function SHGetFolderPath with CSIDL_LOCAL_APPDATA)
and <tt class="docutils literal">py.ini</tt> in the same directory as the launcher.  The same .ini
files are used for both the 'console' version of the launcher (i.e.
py.exe) and for the 'windows' version (i.e. pyw.exe)</p>
<p>Customization specified in the &quot;application directory&quot; will have
precedence over the one next to the executable, so a user, who may not
have write access to the .ini file next to the launcher, can override
commands in that global .ini file)</p>
</blockquote>
</div>
<div class="section" id="customizing-default-python-versions">
<h2><a class="toc-backref" href="#toc-entry-9">Customizing default Python versions</a></h2>
<p>In some cases, a version qualifier can be included in a command to dictate
which version of Python will be used by the command. A version qualifier
starts with a major version number and can optionally be followed by a period
('.') and a minor version specifier. If the minor qualifier is specified, it
may optionally be followed by &quot;-32&quot; to indicate the 32-bit implementation of
that version be used.</p>
<p>For example, a shebang line of <tt class="docutils literal">#!python</tt> has no version qualifier, while
<tt class="docutils literal">#!python3</tt> has a version qualifier which specifies only a major version.</p>
<p>If no version qualifiers are found in a command, the environment variable
<tt class="docutils literal">PY_PYTHON</tt> can be set to specify the default version qualifier - the default
value is &quot;2&quot;. Note this value could specify just a major version (e.g. &quot;2&quot;) or
a major.minor qualifier (e.g. &quot;2.6&quot;), or even major.minor-32.</p>
<p>If no minor version qualifiers are found, the environment variable
<tt class="docutils literal">PY_PYTHON{major}</tt> (where <tt class="docutils literal">{major}</tt> is the current major version qualifier
as determined above) can be set to specify the full version. If no such option
is found, the launcher will enumerate the installed Python versions and use
the latest minor release found for the major version, which is likely,
although not guaranteed, to be the most recently installed version in that
family.</p>
<p>On 64-bit Windows with both 32-bit and 64-bit implementations of the same
(major.minor) Python version installed, the 64-bit version will always be
preferred. This will be true for both 32-bit and 64-bit implementations of the
launcher - a 32-bit launcher will prefer to execute a 64-bit Python installation
of the specified version if available. This is so the behavior of the launcher
can be predicted knowing only what versions are installed on the PC and
without regard to the order in which they were installed (i.e., without knowing
whether a 32 or 64-bit version of Python and corresponding launcher was
installed last). As noted above, an optional &quot;-32&quot; suffix can be used on a
version specifier to change this behaviour.</p>
<p>Examples:</p>
<ul class="simple">
<li>If no relevant options are set, the commands <tt class="docutils literal">python</tt> and
<tt class="docutils literal">python2</tt> will use the latest Python 2.x version installed and
the command <tt class="docutils literal">python3</tt> will use the latest Python 3.x installed.</li>
<li>The commands <tt class="docutils literal">python3.1</tt> and <tt class="docutils literal">python2.7</tt> will not consult any
options at all as the versions are fully specified.</li>
<li>If <tt class="docutils literal">PY_PYTHON=3</tt>, the commands <tt class="docutils literal">python</tt> and <tt class="docutils literal">python3</tt> will both use
the latest installed Python 3 version.</li>
<li>If <tt class="docutils literal"><span class="pre">PY_PYTHON=3.1-32</span></tt>, the command <tt class="docutils literal">python</tt> will use the 32-bit
implementation of 3.1 whereas the command <tt class="docutils literal">python3</tt> will use the latest
installed Python (PY_PYTHON was not considered at all as a major
version was specified.)</li>
<li>If <tt class="docutils literal">PY_PYTHON=3</tt> and <tt class="docutils literal">PY_PYTHON3=3.1</tt>, the commands
<tt class="docutils literal">python</tt> and <tt class="docutils literal">python3</tt> will both use specifically 3.1</li>
</ul>
<p>In addition to environment variables, the same settings can be configured
in the .INI file used by the launcher.  The section in the INI file is
called <tt class="docutils literal">[defaults]</tt> and the key name will be the same as the
environment variables without the leading <tt class="docutils literal">PY\_</tt> prefix (and note that
the key names in the INI file are case insensitive.)  The contents of
an environment variable will override things specified in the INI file.</p>
<p>For example:</p>
<ul class="simple">
<li>Setting <tt class="docutils literal">PY_PYTHON=3.1</tt> is equivalent to the INI file containing:</li>
</ul>
<pre class="literal-block">
[defaults]
python=3.1
</pre>
<ul class="simple">
<li>Setting <tt class="docutils literal">PY_PYTHON=3</tt> and <tt class="docutils literal">PY_PYTHON3=3.1</tt> is equivalent to the INI file
containing:</li>
</ul>
<pre class="literal-block">
[defaults]
python=3
python3=3.1
</pre>
</div>
</div>
<div class="section" id="diagnostics">
<h1><a class="toc-backref" href="#toc-entry-10">Diagnostics</a></h1>
<p>If an environment variable <tt class="docutils literal">PYLAUNCH_DEBUG</tt> is set (to any value), the
launcher will print diagnostic information to stderr (i.e. to the console).
While this information manages to be simultaneously verbose <em>and</em> terse, it
should allow you to see what versions of Python were located, why a
particular version was chosen and the exact command-line used to execute the
target Python.</p>
</div>
</div>
</body>
</html>
